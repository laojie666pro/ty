<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>依赖环境配置 - 体育赛事预测系统</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <nav class="sidebar">
        <!-- 导航栏 -->
    </nav>

    <main class="main-content">
        <div class="content-section">
            <h1>3.3 依赖环境配置</h1>

            <div class="prerequisites">
                <h2>前置要求</h2>
                <div class="checklist">
                    <label class="check-item">
                        <input type="checkbox">
                        已完成Python虚拟环境配置
                    </label>
                    <label class="check-item">
                        <input type="checkbox">
                        已安装并配置好数据库
                    </label>
                    <label class="check-item">
                        <input type="checkbox">
                        准备好科学上网工具
                    </label>
                </div>
            </div>

            <div class="dependency-section">
                <h2>1. 数据处理依赖</h2>
                <div class="step-list">
                    <div class="step">
                        <h3>基础数据处理包</h3>
                        <div class="code-block">
                            <code>pip install numpy==1.24.3</code>
                            <code>pip install pandas==2.0.3</code>
                            <code>pip install scikit-learn==1.3.0</code>
                            <code>pip install matplotlib==3.7.1</code>
                        </div>
                    </div>

                    <div class="step">
                        <h3>数据库连接包</h3>
                        <div class="code-block">
                            <code>pip install pymongo==4.5.0</code>
                            <code>pip install redis==5.0.1</code>
                            <code>pip install motor==3.3.1</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dependency-section">
                <h2>2. 深度学习依赖</h2>
                <div class="step-list">
                    <div class="step">
                        <h3>PyTorch安装</h3>
                        <div class="code-block">
                            <code>pip install torch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 --index-url https://download.pytorch.org/whl/cu117</code>
                        </div>
                        <div class="note">
                            <strong>注意：</strong> 确保使用CUDA 11.7对应的版本
                        </div>
                    </div>

                    <div class="step">
                        <h3>Transformers相关</h3>
                        <div class="code-block">
                            <code>pip install transformers==4.33.2</code>
                            <code>pip install datasets==2.14.5</code>
                            <code>pip install accelerate==0.23.0</code>
                            <code>pip install optimum==1.13.2</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dependency-section">
                <h2>3. 网络爬虫依赖</h2>
                <div class="step-list">
                    <div class="step">
                        <h3>基础爬虫包</h3>
                        <div class="code-block">
                            <code>pip install requests==2.31.0</code>
                            <code>pip install beautifulsoup4==4.12.2</code>
                            <code>pip install lxml==4.9.3</code>
                        </div>
                    </div>

                    <div class="step">
                        <h3>Selenium配置</h3>
                        <div class="code-block">
                            <code>pip install selenium==4.12.0</code>
                            <code>pip install webdriver-manager==4.0.0</code>
                        </div>
                        <div class="note">
                            <strong>提示：</strong> 需要安装Chrome浏览器和ChromeDriver
                        </div>
                    </div>
                </div>
            </div>

            <div class="dependency-section">
                <h2>4. API服务依赖</h2>
                <div class="step-list">
                    <div class="step">
                        <h3>FastAPI安装</h3>
                        <div class="code-block">
                            <code>pip install fastapi==0.103.1</code>
                            <code>pip install uvicorn==0.23.2</code>
                            <code>pip install python-multipart==0.0.6</code>
                        </div>
                    </div>

                    <div class="step">
                        <h3>其他工具包</h3>
                        <div class="code-block">
                            <code>pip install python-dotenv==1.0.0</code>
                            <code>pip install pydantic==2.3.0</code>
                            <code>pip install loguru==0.7.0</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="verification">
                <h2>环境验证</h2>
                <div class="step-list">
                    <div class="step">
                        <h3>1. 验证PyTorch</h3>
                        <div class="code-block">
                            <code>python -c "import torch; print(f'CUDA可用：{torch.cuda.is_available()}')"</code>
                        </div>
                    </div>

                    <div class="step">
                        <h3>2. 验证数据库连接</h3>
                        <div class="code-block">
                            <code>python -c "import pymongo; print('MongoDB可用')"</code>
                            <code>python -c "import redis; print('Redis可用')"</code>
                        </div>
                    </div>

                    <div class="step">
                        <h3>3. 验证API服务</h3>
                        <div class="code-block">
                            <code>uvicorn main:app --reload</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="troubleshooting">
                <h2>常见问题</h2>
                <div class="faq-list">
                    <details>
                        <summary>pip安装包失败</summary>
                        <div class="solution">
                            <p>尝试以下方法：</p>
                            <ol>
                                <li>使用国内镜像源：
                                    <div class="code-block">
                                        <code>pip install package -i https://pypi.tuna.tsinghua.edu.cn/simple</code>
                                    </div>
                                </li>
                                <li>更新pip版本</li>
                                <li>检查网络连接</li>
                            </ol>
                        </div>
                    </details>
                    <details>
                        <summary>CUDA不可用</summary>
                        <div class="solution">
                            <p>检查以下内容：</p>
                            <ul>
                                <li>NVIDIA驱动版本</li>
                                <li>CUDA版本与PyTorch版本匹配</li>
                                <li>环境变量配置</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </div>

            <div class="next-steps">
                <h2>下一步</h2>
                <p>依赖环境配置完成后，继续进行模型部署：</p>
                <div class="button-group">
                    <a href="../model/index.html" class="btn btn-primary">模型部署</a>
                    <a href="../faq/index.html#dependencies" class="btn btn-secondary">依赖常见问题</a>
                </div>
            </div>
        </div>
    </main>

    <script src="../../js/main.js"></script>
</body>
</html> 